(()=>{"use strict";let t=[];const e=(e,c)=>{o(),t.push({name:e,description:c,todoList:[],active:!0})},o=()=>{t.forEach((t=>t.active=!1))},c=()=>t.filter((t=>1==t.active))[0],s=function(t,e,o){c().todoList.push({name:t,description:e,dueDate:o,completion:!1})},a=document.querySelector(".todo-list"),n=document.querySelector(".tasks"),l=document.querySelector(".project-list"),r=a.querySelector(".delete-items");function i(){t.forEach(((t,e)=>{let o=document.createElement("li");o.dataset.value=e,o.classList.add(`project${e}`),o.textContent=t.name,l.append(o)}))}function d(){for(;n.firstChild;)n.removeChild(n.firstChild);a.style.display="none"}function u(){let t=document.getElementById("task"),e=document.querySelector(".list-title"),o=c();d(),o&&(o.todoList.forEach(((e,o)=>{let c=document.importNode(t.content,!0),s=c.querySelector("input");s.id=o,s.checked=e.completion,s.dataset.value=o;let a=c.querySelector("label");a.htmlFor=o,a.append(e.name),n.appendChild(c)})),e.textContent=`${o.name} tasks`,m(),a.style.display="block")}function m(){let t=document.querySelector(".task-count"),e=c().todoList.filter((t=>1!=t.completion)).length;t.textContent=`${e} tasks pending`}console.log(r),n.addEventListener("click",(t=>{"input"===t.target.tagName.toLowerCase()&&(c().todoList[Number(t.target.dataset.value)].completion=t.target.checked,console.log(t)),m()})),l.addEventListener("click",(e=>{var c;"li"==e.target.tagName.toLowerCase()&&(c=e.target.dataset.value,o(),t[c].active=!0,console.log(e),console.log(a)),u(),m()})),r.addEventListener("click",(e=>{"clear-tasks"==e.target.id?(d(),c().todoList=c().todoList.filter((t=>0==t.completion)),u()):"clear-list"==e.target.id&&(t.forEach(((e,o)=>{t.splice(o,1)})),function(){for(;l.firstChild;)l.removeChild(l.firstChild)}(),d(),i())})),e("new Project1","Test run1"),s("new task1","Test Task1","31/12/2020"),s("new task2","Test Task2","31/12/2020"),e("new Project2","Test run2"),s("Project2 task1","Project2 Test Task1","31/12/2020"),s("Project2 task2","Project2 Test Task2","31/12/2020"),s("Project2 task3","Project2 Test Task3","31/12/2020"),s("Project2 task4","Project2 Test Task4","31/12/2020"),t.forEach((t=>console.log(t))),i()})();