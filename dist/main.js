(()=>{"use strict";let t=[];const e=(e,c)=>{o(),t.push({name:e,description:c,todoList:[],active:!0})},o=()=>{t.forEach((t=>t.active=!1))},c=()=>t.filter((t=>1==t.active))[0],n=function(t,e,o){c().todoList.push({name:t,description:e,dueDate:o,completion:!1})},a=document.querySelector(".tasks"),s=document.querySelector(".project-list");function r(){let t=document.querySelector(".task-count"),e=c().todoList.filter((t=>1!=t.completion)).length;t.textContent=`${e} tasks pending`}a.addEventListener("click",(t=>{"input"===t.target.tagName.toLowerCase()&&(c().todoList[Number(t.target.dataset.value)].completion=t.target.checked,console.log(t)),r()})),e("new Project1","Test run1"),n("new task1","Test Task1","31/12/2020"),n("new task2","Test Task2","31/12/2020"),e("new Project2","Test run2"),n("Project2 task1","Project2 Test Task1","31/12/2020"),n("Project2 task2","Project2 Test Task2","31/12/2020"),n("Project2 task3","Project2 Test Task3","31/12/2020"),n("Project2 task4","Project2 Test Task4","31/12/2020"),t.forEach((t=>console.log(t))),t.forEach(((t,e)=>{let o=document.createElement("li");o.dataset.value=e,o.classList.add(`project${e}`),o.textContent=t.name,s.append(o)})),function(){let t=document.getElementById("task"),e=document.querySelector(".list-title"),o=c();o.todoList.forEach(((e,o)=>{let c=document.importNode(t.content,!0),n=c.querySelector("input");n.id=o,n.checked=e.completion,n.dataset.value=o;let s=c.querySelector("label");s.htmlFor=o,s.append(e.name),a.appendChild(c)})),e.textContent=`${o.name} tasks`,r()}()})();