(()=>{"use strict";let t=[];const e=(e,a)=>{o(),t.push({name:e,description:a,todoList:[],active:!0})},o=()=>{t.forEach((t=>t.active=!1))},a=()=>t.filter((t=>1==t.active))[0],c=function(t,e,o){a().todoList.push({name:t,description:e,dueDate:o,completion:!1})},s=document.querySelector(".todo-list"),n=document.querySelector(".tasks"),r=document.querySelector(".project-list");function l(){let t=document.querySelector(".task-count"),e=a().todoList.filter((t=>1!=t.completion)).length;t.textContent=`${e} tasks pending`}n.addEventListener("click",(t=>{"input"===t.target.tagName.toLowerCase()&&(a().todoList[Number(t.target.dataset.value)].completion=t.target.checked,console.log(t)),l()})),r.addEventListener("click",(e=>{var c;"li"==e.target.tagName.toLowerCase()&&(c=e.target.dataset.value,o(),t[c].active=!0,console.log(e),console.log(s)),function(){let t=document.getElementById("task"),e=document.querySelector(".list-title"),o=a();(function(){for(;n.firstChild;)n.removeChild(n.firstChild)})(),o.todoList.forEach(((e,o)=>{let a=document.importNode(t.content,!0),c=a.querySelector("input");c.id=o,c.checked=e.completion,c.dataset.value=o;let s=a.querySelector("label");s.htmlFor=o,s.append(e.name),n.appendChild(a)})),e.textContent=`${o.name} tasks`,l(),s.style.display="block"}(),l()})),e("new Project1","Test run1"),c("new task1","Test Task1","31/12/2020"),c("new task2","Test Task2","31/12/2020"),e("new Project2","Test run2"),c("Project2 task1","Project2 Test Task1","31/12/2020"),c("Project2 task2","Project2 Test Task2","31/12/2020"),c("Project2 task3","Project2 Test Task3","31/12/2020"),c("Project2 task4","Project2 Test Task4","31/12/2020"),t.forEach((t=>console.log(t))),t.forEach(((t,e)=>{let o=document.createElement("li");o.dataset.value=e,o.classList.add(`project${e}`),o.textContent=t.name,r.append(o)}))})();